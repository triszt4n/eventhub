- content_for :javascripts do
  = javascript_pack_tag 'follows'

.row.justify-content-center
  .col-12.text-center
    %h2.my-4
      = "#{@user.name}'s followings"

%ul.nav.nav-tabs.mt-3
  %li.nav-item
    #events-btn.nav-link.active.clickable
      = "Followed events (#{@user.followed_events.length})"
  %li.nav-item
    #users-btn.nav-link.clickable
      = "Followed users (#{@user.followees.length})"

#events.mt-4
  - events = @user.followed_events.filter(&:published).each do |event|
    .card.mb-3
      %h4.card-header.clickable{:onclick => "window.location.href = '#{event_path(event)}';"}
        = event.title
      .card-body.row
        .col-12.col-lg-6
          = event.place
        .col-12.col-lg-6.text-lg-right
          %strong
            = l event.start_date, format: :datetime
            \-
            - if event.start_date.to_date == event.end_date.to_date
              = l event.end_date, format: :time
            - else
              = l event.end_date, format: :datetime
  - if events.empty?
    .row.my-4
      .col-12.text-center.text-muted.font-italic
        No published events found

#users.mt-4.d-none
  - users = @user.followees.filter(&:public).each do |user|
    .media
      = image_tag "profile.png", class: "profile-pic-mini mr-3"
      .media-body
        %h5.mb-0.mt-1.clickable{:onclick => "window.location.href = '#{user_path(user)}';"}
          = user.name
        %strong Followers:
        = user.followers.length
  - if users.empty?
    .row.my-4
      .col-12.text-center.text-muted.font-italic
        No public profiles found
